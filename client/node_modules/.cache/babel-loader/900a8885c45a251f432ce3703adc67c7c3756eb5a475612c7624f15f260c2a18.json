{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Nicolas/OneDrive/Escritorio/Mern-Context/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Nicolas/OneDrive/Escritorio/Mern-Context/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Nicolas/OneDrive/Escritorio/Mern-Context/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Nicolas/OneDrive/Escritorio/Mern-Context/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,createContext,useEffect}from\"react\";import{getPostRequest,createPostRequest,deletePostRequest,getPosttRequest,updatePostRequest}from\"../api/posts\";import{jsx as _jsx}from\"react/jsx-runtime\";export var postContext=/*#__PURE__*/createContext();export var usePost=function usePost(){var context=useContext(postContext);return context;};export var PostProvider=function PostProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var getPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getPostRequest();case 2:res=_context.sent;setPost(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getPosts(){return _ref2.apply(this,arguments);};}();var createPost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(posta){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createPostRequest(posta);case 2:res=_context2.sent;setPost([].concat(_toConsumableArray(post),[res.data]));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function createPost(_x){return _ref3.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return deletePostRequest(id);case 2:setPost(post.filter(function(post){return post._id!==id;}));case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function deletePost(_x2){return _ref4.apply(this,arguments);};}();var getPost=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return getPosttRequest(id);case 2:res=_context4.sent;return _context4.abrupt(\"return\",res);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function getPost(_x3){return _ref5.apply(this,arguments);};}();var updatePost=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id,posta){var res;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return updatePostRequest(id,posta);case 2:res=_context5.sent;setPost(post.map(function(posta){return posta._id===id?res.data:posta;}));case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function updatePost(_x4,_x5){return _ref6.apply(this,arguments);};}();useEffect(function(){getPosts();},[]);return/*#__PURE__*/_jsx(postContext.Provider,{value:{post:post,getPosts:getPosts,createPost:createPost,deletePost:deletePost,getPost:getPost,updatePost:updatePost},children:children});};","map":{"version":3,"names":["useState","useContext","createContext","useEffect","getPostRequest","createPostRequest","deletePostRequest","getPosttRequest","updatePostRequest","postContext","usePost","context","PostProvider","children","post","setPost","getPosts","res","data","createPost","posta","deletePost","id","filter","_id","getPost","updatePost","map"],"sources":["C:/Users/Nicolas/OneDrive/Escritorio/Mern-Context/client/src/context/postContext.jsx"],"sourcesContent":["import { useState, useContext, createContext, useEffect } from \"react\"\r\nimport { getPostRequest, createPostRequest, deletePostRequest, getPosttRequest, updatePostRequest } from \"../api/posts\"\r\n\r\n\r\nexport const postContext = createContext()\r\n\r\nexport const usePost = () =>{\r\n   const context =  useContext(postContext)\r\n    return context\r\n}\r\n\r\n\r\n\r\nexport const PostProvider = ({children}) =>{\r\n\r\n    const[post, setPost] = useState([])\r\n\r\n    \r\n    \r\n    const getPosts = async () =>{\r\n       const res = await getPostRequest()\r\n       setPost(res.data);\r\n    }\r\n\r\n\r\n    const createPost = async (posta) =>{\r\n        const res = await createPostRequest(posta)\r\n        setPost([...post, res.data])\r\n    }\r\n\r\n     const deletePost = async (id) => {\r\n         await deletePostRequest(id);\r\n        setPost(post.filter(post => post._id !== id ))\r\n    }\r\n\r\n    const getPost = async(id) =>{\r\n        const res = await getPosttRequest(id)\r\n        return res\r\n\r\n    }\r\n\r\n    const updatePost= async(id, posta) => {\r\n        const res = await updatePostRequest(id, posta)\r\n        setPost(post.map((posta) => posta._id === id ? res.data : posta))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        getPosts()\r\n      }, [])\r\n\r\n\r\n\r\n    return <postContext.Provider value={{\r\n        post,\r\n        getPosts,\r\n        createPost,\r\n        deletePost,\r\n        getPost,\r\n        updatePost\r\n    }}>\r\n        {children}\r\n    </postContext.Provider>\r\n} "],"mappings":"glBAAA,OAASA,QAAQ,CAAEC,UAAU,CAAEC,aAAa,CAAEC,SAAS,KAAQ,OAAO,CACtE,OAASC,cAAc,CAAEC,iBAAiB,CAAEC,iBAAiB,CAAEC,eAAe,CAAEC,iBAAiB,KAAQ,cAAc,4CAGvH,MAAO,IAAMC,YAAW,cAAGP,aAAa,EAAE,CAE1C,MAAO,IAAMQ,QAAO,CAAG,QAAVA,QAAO,EAAQ,CACzB,GAAMC,QAAO,CAAIV,UAAU,CAACQ,WAAW,CAAC,CACvC,MAAOE,QAAO,CAClB,CAAC,CAID,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAY,MAAkB,IAAbC,SAAQ,MAARA,QAAQ,CAElC,cAAuBb,QAAQ,CAAC,EAAE,CAAC,wCAA7Bc,IAAI,eAAEC,OAAO,eAInB,GAAMC,SAAQ,6FAAG,mKACIZ,eAAc,EAAE,QAA5Ba,GAAG,eACTF,OAAO,CAACE,GAAG,CAACC,IAAI,CAAC,CAAC,sDACpB,kBAHKF,SAAQ,2CAGb,CAGD,GAAMG,WAAU,6FAAG,kBAAOC,KAAK,uJACTf,kBAAiB,CAACe,KAAK,CAAC,QAApCH,GAAG,gBACTF,OAAO,8BAAKD,IAAI,GAAEG,GAAG,CAACC,IAAI,GAAE,yDAC/B,kBAHKC,WAAU,6CAGf,CAEA,GAAME,WAAU,6FAAG,kBAAOC,EAAE,+IAClBhB,kBAAiB,CAACgB,EAAE,CAAC,QAC5BP,OAAO,CAACD,IAAI,CAACS,MAAM,CAAC,SAAAT,IAAI,QAAIA,KAAI,CAACU,GAAG,GAAKF,EAAE,GAAE,CAAC,yDACjD,kBAHMD,WAAU,8CAGhB,CAED,GAAMI,QAAO,6FAAG,kBAAMH,EAAE,uJACFf,gBAAe,CAACe,EAAE,CAAC,QAA/BL,GAAG,iDACFA,GAAG,0DAEb,kBAJKQ,QAAO,8CAIZ,CAED,GAAMC,WAAU,6FAAE,kBAAMJ,EAAE,CAAEF,KAAK,uJACXZ,kBAAiB,CAACc,EAAE,CAAEF,KAAK,CAAC,QAAxCH,GAAG,gBACTF,OAAO,CAACD,IAAI,CAACa,GAAG,CAAC,SAACP,KAAK,QAAKA,MAAK,CAACI,GAAG,GAAKF,EAAE,CAAGL,GAAG,CAACC,IAAI,CAAGE,KAAK,GAAC,CAAC,yDACpE,kBAHKM,WAAU,kDAGf,CAGDvB,SAAS,CAAC,UAAM,CACZa,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAIR,mBAAO,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAE,CAChCF,IAAI,CAAJA,IAAI,CACJE,QAAQ,CAARA,QAAQ,CACRG,UAAU,CAAVA,UAAU,CACVE,UAAU,CAAVA,UAAU,CACVI,OAAO,CAAPA,OAAO,CACPC,UAAU,CAAVA,UACJ,CAAE,UACGb,QAAQ,EACU,CAC3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}